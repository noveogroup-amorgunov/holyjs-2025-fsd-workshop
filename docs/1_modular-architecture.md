# ะะตัะตะฒะพะด ะฟัะพะตะบัะฐ ั ะผะพะดัะปัะฝะพะน ะฐััะธัะตะบัััั ะฝะฐ FSD

### ะัััััะต ะฟะตัะตัะพะดั

TODO: ะะพะฑะฐะฒะธัั ัััะปะบะธ

- [ะกัะตะบ](#ะกัะตะบ)
- [ะะฟะธัะฐะฝะธะต](#ะะฟะธัะฐะฝะธะต)
- [ะจะฐะณ 0: ะะธะณัะธััะตะผ ัััะฐะฝะธัั](#)
- [ะจะฐะณ 1: ะะธะณัะธััะตะผ ะผะพะดัะปะธ](#)
- [ะจะฐะณ 2: ะัะดะตะปัะตะผ ัะปะพะน shared](#)
- [ะจะฐะณ 3: ะัะดะตะปัะตะผ ัะปะพะน app](#)
- [ะจะฐะณ 4: ะฃััะฐะฝะฐะฒะปะธะฒะตะผ ะปะธะฝัะตั steiger ะธ ะธะทััะฐะตะผ ะพัะธะฑะบะธ](#)
- [ะจะฐะณ 5 (ะฑะพะฝััะฝัะน): ะงัะพ ะดะตะปะฐัั ั ะณะปะพะฑะฐะปัะฝัะผะธ ะบะปะธะตะฝัะบะธะผะธ ััะฐะฝะธะปะธัะฐะผะธ?](#)
- [ะจะฐะณ 6 (ะฑะพะฝััะฝัะน): ะงัะพ ะดะตะปะฐัั ะตัะปะธ ะผะพะดัะปะธ ัะฐะทัะฐััะฐัััั?](#)

## ะกัะตะบ

- react
- typescript
- redux + preact/signals (ะดะปั ะฟัะธะผะตัะฐ ะธัะฟะพะปัะทะพะฒะฐะฝะธั ัะฐะทะปะธัะฝัั ััะตะนั ะผะตะฝะตะดะถะตัะพะฒ)

## ะะฟะธัะฐะฝะธะต

ะ ะฟัะพะตะบัะต ัะตะฐะปะธะทะพะฒะฐะฝะพ ะดะฒะฐ ะผะพะดัะปั (`modules/cart` ะธ `in memory
storage/popular-products`), ะฐ ัะฐะบ ะถะต ะฝะตัะบะพะปัะบะพ ัะตัะฒะธัะพะฒ (`core/feature-flags` ะธ `core/theme`), ะบะพัะพััะต ะฒะทะฐะธะผะพะดะตะนััะฒััั ัะตัะตะท di-ะบะพะฝัะตะนะฝะตั (`core/di/*`).

ะงัะพะฑั ััะฟะตัั ะฟะตัะตะฒะตััะธ ะฒะตัั ะฟัะพะตะบั ะฝะฐ FSD, ะฝะต ะฑัะดะตะผ ัะฐััะผะฐััะธะฒะฐัั ัะปะพะน ัััะฐะฝะธั, ะบะพัะพััะน ะฒ ัะฐะผะบะฐั ะผะพะดัะปัะฝะพะน ะฐััะธัะตะบัััั ะฝะต ะฑัะดะตั ะฟะพะดะฒะตัะถะตะฝ ะธะทะผะตะฝะตะฝะธัะผ.

ะะทะฝะฐัะฐะปัะฝะพ ััะตะผะฐัะธัะฝะพ ะฟัะพะตะบั ะผะพะถะฝะพ ะฟัะตะดััะฐะฒะธัั ัะปะตะดัััะธะผ ะพะฑัะฐะทะพะผ:

IMAGE_TODO

ะะฐะถะดัะน ะผะพะดัะปั ัะพััะพะธั ะธะท ัะฒะพะธั ui-ะบะพะผะฟะพะฝะตะฝัะพะฒ, ััะพัะพะฒ ะธ ัะตัะฒะธัะพะฒ:

```
๐ modules
  ๐ cart
    ๐ services
    ๐ components
    ๐ stores
```

## ะจะฐะณ 0: ะะธะณัะธััะตะผ ัััะฐะฝะธัั

ะฟัะพะฟััะบะฐะตะผ...

## ะจะฐะณ 1: ะะธะณัะธััะตะผ ะผะพะดัะปะธ

1. ะะตัะตะธะผะตะฝะพะฒัะฒะฐะตะผ ะดะธัะตะบัะพัะธั `modules` ะฒ `widgets`. ะะถัั, ะธ ะผั ะฟะตัะตะฒะตะปะธ ะฟัะพะตะบั ะฝะฐ 50% ะฝะฐ FSD
2. ะขะธะฟ `types/product.ts` ะฟะตัะตะฝะพัะธะผ ะฒ ัะพะพัะฒะตััะฒัััะธะน ะผะพะดัะปั ะธะปะธ `~/shared`, ะตัะปะธ ะพะฝ ะดะพะปะถะตะฝ ะฑััั ะณะปะพะฑะฐะปัะฝัะผ ะดะปั ะฒัะตะณะพ ะฟัะธะปะพะถะตะฝะธั (ะผั ะฟะตัะตะฝะตัะตะผ ะตะณะพ ะฒ shared)
2. ะะพ ะถะตะปะฐะฝะธั ะผะพะถะฝะพ ะฟะตัะตะธะผะตะฝะพะฒะฐัั ัะตะณะผะตะฝัั, ะฝะพ FSD ะธั ะฝะต ัะตะณะปะฐะผะตะฝัะธััะตะผ (ะฟัะพััะพ ะฒ ะฟัะธะผะตัะฐั ะพะฑััะฝะพ ะธัะฟะพะปัะทััััั `config`/`api`/`ui`/`lib`/`model`), ะฟะพััะพะผั ะพััะฐะฒะธะผ ัะตะบััะธะน ะฝะตะนะผะธะฝะณ

ะะพ ัััะธ ะผั ัะพััะฐะฝะธะปะธ ะธะทะฝะฐัะฐะปัะฝัั ะฐััะธัะตะบัััั ะฟัะพะตะบัะฐ, ะดะพะฑะฐะฒะธะปะธ ะฟะพะปะตะทะฝะพะต ะธะท FSD ะธ ะฟะพะบััะปะธ ะฐััะธัะตะบัััั ะปะธะฝัะตัะพะผ.

IMAGE_TODO

<details>
<summary>ะกัััะบัััะฐ ะฟัะพะตะบัะฐ ะฟะพัะปะต ัะฐะณะฐ</summary>

```diff
  ๐ core
- ๐ modules 
+ ๐ widgets
+   ๐ cart
+   ๐ popular-products
  ๐ types
  ๐ App.module.css
  ๐ App.tsx
  ๐ index.css
  ๐ main.tsx
```
</details>

## ะจะฐะณ 2: ะัะดะตะปัะตะผ ัะปะพะน shared

1. ะะตัะตะฝะพัะธะผ ัะฐััะฐัะตะฝะฝัะต UI-ะบะพะผะฟะพะฝะตะฝัั ะฒ `~/shared/ui/*` (ะฟะตัะตะฝะพัะธะผ `~/core/Price` ะฒ `~/shared/components/Price`).
2. ะะทะฑะฐะฒะปัะตะผัั ะพั ะณะปะพะฑะฐะปัะฝะพะน ะดะธัะตะบัะพัะธะธ `types` ะธ ะฒัะฝะพัะธะผ ัะฐะนะฟะธะฝะณะธ (TODO ะดะพะฑะฐะฒะธัั ัะฐะนะป ั `featureFlags.types.ts`, ััะพะฑั ะตะณะพ ะฒัะฝะตััะธ)
2. ะกะตัะฒะธั ะทะฐะฟัะพัะพะฒ ะฟะตัะตะฝะพัะธะผ ะฒ `~/shared/api` (ัะฐะบ ะฟัะพััะพ ัะปะพะถะธะปะพัั, ััะพ ะฒัะต ััะพ ะบะฐัะฐะตััั api ัะบะปะฐะดัะฒะฐะตััั ะฒ ััะพั ัะตะณะผะตะฝั ะฝะฐ ัะปะพะต shared)
3. ะัะฝะพัะพะผ ะธะฝััะฐััััะบัััะฝัั ัะตัะฒะธัะพะฒ: ะฟะตัะตะฝะพัะธะผ ัะตัะฒะธั ัะธั-ัะปะฐะณะพะฒ ะธ ะฟะตัะตะบะปััะฐะปะบั ัะตะผั ะฒ `~/shared/services/*`. ะะฝััะฐััััะบัััะฝัะต ัะตัะฒะธัั ััะพ ัะฐะบะธะต ะถะต ัะปะฐะนัั, ะบะฐะบ ะธ ะฒะธะดะถะตัั, ะฟะพััะพะผั ัะพัะผะธััะตะผ ะธั ะฟะพ ะฟัะฐะฒะธะปะฐะผ FSD.

IMAGE_TODO


<details>
<summary>ะกัััะบัััะฐ ะฟัะพะตะบัะฐ ะฟะพัะปะต ัะฐะณะฐ</summary>

```diff
  ๐ core
-   ๐ services
-   ๐ components
    ๐ di
    ๐ store
+ ๐ shared
+   ๐ api
+     ๐ fakeApi.ts
+   ๐ components
+     ๐ Price
+   ๐ services
+     ๐ feature-flags
+       ๐ components
+       ๐ services
+     ๐ theme
+       ๐ components
+       ๐ services
+   ๐ global-types.ts
- ๐ types
-   ๐ styles.d.ts
-   ๐ product.ts
-   ๐ featureFlags.ts
  ๐ widgets
    ๐ cart
    ๐ popular-products
  ๐ App.module.css
  ๐ App.tsx
  ๐ index.css
  ๐ main.tsx
```
</details>

## ะจะฐะณ 3: ะัะดะตะปัะตะผ ัะปะพะน app

1. ะัะฝะพัะธะผ ะฒัะต ะณะปะพะฑะฐะปัะฝัะต ะฒะตัะธ ะฒ ัะปะพะน app
1. ะะตัะตะฝะพัะธะผ redux. ะขัั ะฒะฐะถะฝะพ, ััะพ ะธะฝะธัะธะฐะปะธะทะฐัะธั ะผั ะผะพะถะตะผ ะดะตะปะฐัั ัะพะปัะบะพ ะฝะฐ ัะปะพะต `app`, ัะฐะบ ะบะฐะบ ะฝัะถะตะฝ ะดะพัััะฟ ะบะพ ะฒัะตะผ ััะพัะฐะผ ะผะพะดัะปะตะน. TODO
2. ะะตัะตะฝะพัะธะผ TODO


<details>
<summary>ะกัััะบัััะฐ ะฟัะพะตะบัะฐ ะฟะพัะปะต ัะฐะณะฐ</summary>

```diff
- core
+ ๐ app
+   ๐ di
+   ๐ store
+   ๐ App.module.css
+   ๐ App.tsx
+   ๐ index.css
+   ๐ main.tsx
  ๐ shared
+   ๐ services
+     ๐ redux
+       ๐ components
+       ๐ services
+     ๐ di
+       ๐ container.ts
+       ๐ useDi.ts
  ๐ widgets
- ๐ index.html
+ ๐ index.html
```
</details>

## ะจะฐะณ 4: ะฃััะฐะฝะฐะฒะปะธะฒะตะผ ะปะธะฝัะตั steiger ะธ ะธะทััะฐะตะผ ะพัะธะฑะบะธ

ะฃััะฐะฝะฐะฒะปะธะฒะฐะตะผ [`steiger`](https://github.com/feature-sliced/steiger) ะธ ะฟะปะฐะณะธะฝ ั ะฟัะฐะฒะธะปะฐะผะธ ะดะปั FSD.

```bash
$ pnpm add -D steiger @feature-sliced/steiger-plugin --filter modular-architecture
```

ะัะธ ะทะฐะฟััะบะต ะฟะพะปััะฐะตะผ ััะด ะพัะธะฑะพะบ, ะบะพัะพััะต ัะตะนัะฐั ะฑัะดะตะผ ะธัะฟัะฐะฒะปััั.

## ะจะฐะณ 5 (ะฑะพะฝััะฝัะน): ะงัะพ ะดะตะปะฐัั ั ะณะปะพะฑะฐะปัะฝัะผะธ ะบะปะธะตะฝัะบะธะผะธ ััะฐะฝะธะปะธัะฐะผะธ?

ะะตะบะพัะพััะต ะฑะธะฑะปะธะพัะตะบะธ ั ะณะปะพะฑะฐะปัะฝัะผ ััะฐะปะธัะตะผ ะฟะพะทะฒะพะปััั ะดะธะฝะฐะผะธัะตัะบะธ ะธะฝะธัะธะฐะปะธะทะธัะพะฒะฐัั ะปะพะบะฐะปัะฝัะต ััะตะนัั (ะฒ ะบะพะฝัะตะบััะต ัะตะดะฐะบัะฐ `redux-slice`). ะ ััะพะผ ัะปััะฐะต ะฝัะถะฝะพ ัะพะทะดะฐัั ะฟัััะพะน ััะพั ะธะทะฝะฐัะฐะปัะฝะพ, ัะดะตะปะฐัั any ะณะปะพะฑะฐะปัะฝัะต ัะธะฟั ัะตะดะฐะบัะฐ, ัะธะฟะฐ AppState, ะธ ะธะฝะถะตะบัะธัั ัะปะฐะนัั ะฒ rootReducer ะดะธะฝะฐะผะธัะตัะบะธ. ะขะตะผ ัะฐะผัะผ ะผั ัะตัะธะผ ะฟัะพะฑะปะตะผั ะธัะฟะพะปัะทะพะฒะฐะฝะธั `app` ัะปะพั ะฒ ัะปะฐะนัะฐั ั ะฝะธะถะฝะธั ััะพะฒะฝะตะน.

<details>
<summary>ะกัััะบัััะฐ ะฟัะพะตะบัะฐ ะฟะพัะปะต ัะฐะณะฐ</summary>

```diff
  ๐ app
-   ๐ reduxStore.ts
+   ๐ reduxStore.ts
  ๐ shared
    ๐ services
      ๐ redux
+       ๐ createAppAsyncThunk.ts
+       ๐ rootReducer.ts
+       ๐ useAppDispatch.ts
+       ๐ useAppSelector.ts
-       ๐ types.ts
+       ๐ types.ts
        ๐ index.ts
  ๐ widgets
    ๐ popular-products
```
</details>

## ะจะฐะณ 6 (ะฑะพะฝััะฝัะน): ะงัะพ ะดะตะปะฐัั ะตัะปะธ ะผะพะดัะปะธ ัะฐะทัะฐััะฐัััั?

ะงัะพ ะดะตะปะฐัั, ะตัะปะธ ะผะพะดัะปะตะน ััะฐะฝะพะฒะธััั ัะปะธัะบะพะผ ะผะฝะพะณะพ?

```diff
  ๐ app
  ๐ shared
  ๐ widgets
    ๐ base-products-slider
    ๐ popular-products
    ๐ awesome-products
    ๐ purchased-products
    ๐ product-filters
    ๐ product-details-modal
    ...
    ๐ product-details-modal
```

### 1 - ะะฐะทะดะตะปะตะฝะธะต ะผะพะดัะปะตะน ะฟะพ ะดะพะผะตะฝะฐะผ

ะััั ะฝะตัะบะพะปัะบะพ ะฒะฐัะธะฐะฝัะพะฒ ัะตัะตะฝะธั, ะฝะฐะฟัะธะผะตั ะธัะฟะพะปัะทะพะฒะฐัั ัะฐะทะดะตะปะตะฝะธะต ะฟะพ ะดะพะผะตะฝะฝะพะผั ัะผััะปั ัะฐะผะธั ะผะพะดัะปะตะน. ะญัะพั ะฒะฐัะธะฐะฝั ะพัะธัะธะฐะปัะฝะพ ะฝะต ะพะฟะธัะฐะฝ ะฒ ะดะพะบัะผะตะฝัะฐัะธะธ ะธ ะฒ ะฝะฐััะพััะธะน ะผะพะผะตะฝั ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตััั `steiger`, ะฝะพ ะพะฝ ะฝะต ะฝะฐัััะฐะตั ะฟัะฐะฒะธะป FSD ะธ ัะฒะปัะตััั ะปะพะณะธัะฝัะผ ัะฐะทะฒะธัะธะตะผ ะฟัะธ ัะฒะตะปะตัะตะฝะธะธ ะบะพะดะพะฒะพะน ะฑะฐะทั.

```diff
  ๐ app
  ๐ shared
+ ๐ domain
+   ๐ catalog
+   ๐ cart
+   ๐ product
      ๐ widgets
        ๐ base-products-slider
        ๐ popular-products
        ...
        ๐ awesome-products
      ๐ shared
```

### 2 - ะะพะบะฐะปัะฝัะต ะผะพะดัะปะธ ะฒ ัะฐะผะบะฐั ัััะฐะฝะธั

ะััั ะฒะฐัะธะฐะฝั ะฒะฒะตััะธ ะฒะพะทะผะพะถะฝะพััั ัะพะทะดะฐะฝะธั ะฟะพะดะผะพะดัะปะตะน ะฒ ัะฐะผะบะฐั ัะตะบััะธั, ะฝะพ ะพะฝ ะฝะฐัััะฐะตั ะฟัะฐะฒะธะปะฐ ะพะฟะธัะฐะฝะธั ัะปะฐะนัะพะฒ ะฒ FSD, ะฟะพััะพะผั ะตะณะพ ะฒ ะพัะธัะธะฐะปัะฝะพะน ะดะพะบัะผะตะฝัะฐัะธะธ ะฝะฐะนัะธ ะฝะต ะฟะพะปััะธััั. ะะพ ััะพั ะฒะฐัะธะฐะฝั ะฒัะต ัะฐะฒะฝะพ ะธัะฟะพะปัะทััั, ะพะฑััะฝะพ ะฒะผะตััะต ัะพ ัะปะพะตะผ ัััะฐะฝะธั, ะบะพะณะดะฐ ะผะพะดัะปะธ ะดะตะปัั ะฝะฐ (1) ะพะฑัะธะต ะดะปั ะฒัะตะณะพ ะฟัะธะปะพะถะตะฝะธั ะธ (2) ะปะพะบะฐะปัะฝัะต ะผะพะดัะปะธ ะฒ ัะฐะผะบะฐั ัััะฐะฝะธั. ะญัะพ ัะฐะทะฝะพะฒะธะดะฝะพััั ะดะพะผะตะฝะฝะพะณะพ ะดะตะปะตะฝะธั ะผะพะดัะปะตะน, ะณะดะต ะดะพะผะตะฝะพะผ ัะฒะปัะตััั ัััะฐะฝะธัะฐ:

```diff
  ๐ app
  ๐ shared
  ๐ widgets
    ๐ base-products-slider
+ ๐ pages
+   ๐ home
+     ๐ widgets
        ๐ popular-products
+     ๐ index.tsx
+   ๐ catalog
+     ๐ widgets
        ๐ awesome-products
        ๐ product-details-modal
+     ๐ index.tsx
```

ะญัะพ ะพัะตะฝั ะฟะพัะพะถะต ะฝะฐ ัะตะบััะตะต ะฝะฐะฟัะฐะฒะปะตะฝะธะต ัะฐะทะฒะธัะธั FSD, ะบะพัะพัะพะต ะฒะฒะตะปะธ ะฒ ะฒะตััะธะธ 2.1 - ะฟัะพะตะบัะธัะพะฒะฐัั ัะฒะพะต ะฟัะธะปะพะถะตะฝะธะต ะฒะพะบััะณ ัััะฐะฝะธั. ะะฐ ะธัะบะปััะตะฝะธะตะผ ัะพะณะพ, ััะพ ัะฐะผะฐ ัััะฐะฝะธัะฐ ัะพััะพะธั ะธะท ะปะพะบะฐะปัะฝัั ะผะพะดัะปะตะน (ะฒ ัะฐะผะบะฐั FSD - ะฒะธะดะถะตัะพะฒ). ะกัะพะธั ะพัะผะตัะธัั, ััะพ ััะพั ะฒะฐัะธะฐะฝั ัะฐะบ ะถะต ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตััั ะฝะฐ ััะพะฒะฝะต `steiger`.

### 3 - ะะพะฝะพัะตะฟะพะทะธัะพัะธะน

TODO

```diff
~root
  ๐ packages
    ๐ shared
      ๐ api
      ๐ ui
      ๐ services
    ๐ domain-catalog  // ะฒะฝัััะธ ัะถะต ะดะตะปะตะฝะธะต ะฟะพ FSD
      ๐ pages
      ๐ widgets
      ๐ shared
    ๐ domain-cart
      ๐ pages
      ๐ widgets
      ๐ shared
```
